(()=>{var te=Object.defineProperty;var G=Object.getOwnPropertySymbols;var re=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable;var $=(e,t,o)=>t in e?te(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,C=(e,t)=>{for(var o in t||(t={}))re.call(t,o)&&$(e,o,t[o]);if(G)for(var o of G(t))oe.call(t,o)&&$(e,o,t[o]);return e};var _=(e,t,o)=>new Promise((n,r)=>{var i=p=>{try{f(o.next(p))}catch(c){r(c)}},d=p=>{try{f(o.throw(p))}catch(c){r(c)}},f=p=>p.done?n(p.value):Promise.resolve(p.value).then(i,d);f((o=o.apply(e,t)).next())});function k(e){if(e==null||typeof e!="object")return!1;let t=Object.getPrototypeOf(e);return t==null||t===Object.prototype}function T(e){return e!=null&&e.kind===3}var A="__current",B={},se=[];function H(e,{strict:t=!0,components:o}={}){let n=0,r={strict:t,mounted:!1,channel:e,children:se,nodes:new WeakSet,parents:new WeakMap,tops:new WeakMap,components:new WeakMap,fragments:new WeakMap};t&&Object.freeze(o);let i={kind:0,options:t?Object.freeze({strict:t,components:o}):{strict:t,components:o},get children(){return r.children},createComponent(d,...f){if(o&&o.indexOf(d)<0)throw new Error(`Unsupported component: ${d}`);let[p,c,...s]=f,a=p!=null?p:{},u=[],g={};if(p)for(let m of Object.keys(p))m!=="children"&&(g[m]=b(V(p[m])));if(c)if(Array.isArray(c))for(let m of c)u.push(l(m,i));else{u.push(l(c,i));for(let m of s)u.push(l(m,i))}let O=`${n++}`,x={externalProps:t?Object.freeze(a):a,internalProps:g,children:t?Object.freeze(u):u},h=C({kind:1,get children(){return x.children},get props(){return x.externalProps},get remoteProps(){return x.internalProps},remove:()=>X(h),updateProps:m=>pe(h,m,x,r),append:(...m)=>M(h,m.map(E=>l(E,i)),x,r),appendChild:m=>j(h,l(m,i),x,r),removeChild:m=>w(h,m,x,r),replaceChildren:(...m)=>F(h,m.map(E=>l(E,i)),x,r),insertBefore:(m,E)=>R(h,l(m,i),E,x,r),insertChildBefore:(m,E)=>R(h,l(m,i),E,x,r)},B);r.components.set(h,x),Object.defineProperty(h,"type",{value:d,configurable:!1,writable:!1,enumerable:!0}),z(h,r),L(h,O,i);for(let m of x.children)I(h,m,r);return h},createText(d=""){let f=`${n++}`,p={text:d},c=a=>ce(s,a,p,r),s=C({kind:2,get text(){return p.text},update:c,updateText:c,remove:()=>X(s)},B);return z(s,r),L(s,f,i),s},createFragment(){let d=`${n++}`,f={children:t?Object.freeze([]):[]},p=C({kind:3,get children(){return f.children},append:(...c)=>M(p,c.map(s=>l(s,i)),f,r),appendChild:c=>j(p,l(c,i),f,r),removeChild:c=>w(p,c,f,r),replaceChildren:(...c)=>F(p,c.map(s=>l(s,i)),f,r),insertBefore:(c,s)=>R(p,l(c,i),s,f,r),insertChildBefore:(c,s)=>R(p,l(c,i),s,f,r)},B);return r.fragments.set(p,f),z(p,r),L(p,d,i),p},append:(...d)=>M(i,d.map(f=>l(f,i)),r,r),appendChild:d=>j(i,l(d,i),r,r),replaceChildren:(...d)=>F(i,d.map(f=>l(f,i)),r,r),removeChild:d=>w(i,d,r,r),insertBefore:(d,f)=>R(i,l(d,i),f,r,r),insertChildBefore:(d,f)=>R(i,l(d,i),f,r,r),mount(){return r.mounted?Promise.resolve():(r.mounted=!0,Promise.resolve(e(0,r.children.map(S))))}};return i}function fe(e,{tops:t}){var o;return((o=t.get(e))===null||o===void 0?void 0:o.kind)===0}function Z(e,t){let o=n=>{if("children"in n)for(let r of n.children)t(r),o(r)};o(e)}function N(e,t,{remote:o,local:n}){let{mounted:r,channel:i}=t;r&&(e.kind===0||fe(e,t))&&o(i),n()}function ce(e,t,o,n){return N(e,n,{remote:r=>r(3,e.id,t),local:()=>{o.text=t}})}var y=Symbol("ignore");function pe(e,t,o,n){let{strict:r}=n,{internalProps:i,externalProps:d}=o,f={},p=[],c=!1;for(let s of Object.keys(t)){if(s==="children")continue;let a=d[s],u=t[s],g=i[s],O=V(u);if(g===O&&(O==null||typeof O!="object"))continue;let[x,h]=K(g,O);h&&p.push(...h),x!==y&&(c=!0,f[s]=x,T(a)&&W(a,n),T(u)&&I(e,u,n))}return N(e,n,{remote:s=>{c&&s(4,e.id,f)},local:()=>{let s=C(C({},d),t);o.externalProps=r?Object.freeze(s):s,o.internalProps=C(C({},o.internalProps),f);for(let[a,u]of p)a[A]=u}})}function K(e,t,o=new Set){return o.has(e)?[y]:(o.add(e),typeof e=="function"&&A in e?[typeof t=="function"?y:b(t),[[e,t]]]:Array.isArray(e)?me(e,t,o):k(e)&&!T(e)?ae(e,t,o):[e===t?y:t])}function b(e,t=new Map){let o=t.get(e);if(o)return o;if(T(e))return t.set(e,e),e;if(Array.isArray(e)){let n=[];t.set(e,n);for(let r of e)n.push(b(r,t));return n}if(k(e)){let n={};t.set(e,n);for(let r of Object.keys(e))n[r]=b(e[r],t);return n}if(typeof e=="function"){let n=(...r)=>n[A](...r);return Object.defineProperty(n,A,{enumerable:!1,configurable:!1,writable:!0,value:e}),t.set(e,n),n}return t.set(e,e),e}function P(e,t=new Set){if(!t.has(e)){if(t.add(e),Array.isArray(e))return e.reduce((o,n)=>{let r=P(n,t);return r?[...o,...r]:o},[]);if(k(e))return Object.keys(e).reduce((o,n)=>{let r=P(e[n],t);return r?[...o,...r]:o},[]);if(typeof e=="function")return A in e?[e]:void 0}}function X(e){var t;(t=e.parent)===null||t===void 0||t.removeChild(e)}function M(e,t,o,n){for(let r of t)j(e,r,o,n)}function j(e,t,o,n){var r;let{nodes:i,strict:d}=n;if(!i.has(t))throw new Error("Cannot append a node that was not created by this remote root");let f=t.parent,p=(r=f==null?void 0:f.children.indexOf(t))!==null&&r!==void 0?r:-1;return N(e,n,{remote:c=>{c(1,e.id,p<0?e.children.length:e.children.length-1,S(t),f?f.id:!1)},local:()=>{I(e,t,n);let c;if(f){let s=v(f,n),a=[...s.children];a.splice(p,1),f===e?c=a:(s.children=d?Object.freeze(a):a,c=[...o.children])}else c=[...o.children];c.push(t),o.children=d?Object.freeze(c):c}})}function F(e,t,o,n){for(let r of e.children)w(e,r,o,n);M(e,t,o,n)}function w(e,t,o,n){let{strict:r}=n;return N(e,n,{remote:i=>i(2,e.id,e.children.indexOf(t)),local:()=>{W(t,n);let i=[...o.children];i.splice(i.indexOf(t),1),o.children=r?Object.freeze(i):i}})}function R(e,t,o,n,r){var i;let{strict:d,nodes:f}=r;if(!f.has(t))throw new Error("Cannot insert a node that was not created by this remote root");let p=t.parent,c=(i=p==null?void 0:p.children.indexOf(t))!==null&&i!==void 0?i:-1;return N(e,r,{remote:s=>{let a=o==null?e.children.length-1:e.children.indexOf(o);s(1,e.id,a<c||c<0?a:a-1,S(t),p?p.id:!1)},local:()=>{I(e,t,r);let s;if(p){let a=v(p,r),u=[...a.children];u.splice(c,1),p===e?s=u:(a.children=d?Object.freeze(u):u,s=[...n.children])}else s=[...n.children];o==null?s.push(t):s.splice(s.indexOf(o),0,t),n.children=d?Object.freeze(s):s}})}function l(e,t){return typeof e=="string"?t.createText(e):e}function I(e,t,o){let{tops:n,parents:r}=o,i=e.kind===0?e:n.get(e);n.set(t,i),r.set(t,e),J(t,o),Z(t,d=>{n.set(d,i),J(d,o)})}function J(e,t){if(e.kind!==1)return;let o=e.props;o&&Object.values(o).forEach(n=>{T(n)&&I(e,n,t)})}function W(e,t){let{tops:o,parents:n}=t;o.delete(e),n.delete(e),Z(e,r=>{o.delete(r),q(r,t)}),q(e,t)}function q(e,t){if(e.kind!==1)return;let o=e.remoteProps;for(let n of Object.keys(o!=null?o:{})){let r=o[n];T(r)&&W(r,t)}}function z(e,{parents:t,tops:o,nodes:n}){n.add(e),Object.defineProperty(e,"parent",{get(){return t.get(e)},configurable:!0,enumerable:!0}),Object.defineProperty(e,"top",{get(){return o.get(e)},configurable:!0,enumerable:!0})}function S(e){return e.kind===2?{id:e.id,kind:e.kind,text:e.text}:{id:e.id,kind:e.kind,type:e.type,props:e.remoteProps,children:e.children.map(t=>S(t))}}function V(e){return T(e)?de(e):e}function de(e){return{id:e.id,kind:e.kind,get children(){return e.children.map(t=>S(t))}}}function v(e,t){return e.kind===0?t:e.kind===3?t.fragments.get(e):t.components.get(e)}function L(e,t,o){Object.defineProperty(e,"id",{value:t,configurable:!0,writable:!1,enumerable:!1}),Object.defineProperty(e,"root",{value:o,configurable:!0,writable:!1,enumerable:!1})}function ae(e,t,o){if(!k(t)){var n;return[b(t),(n=P(e))===null||n===void 0?void 0:n.map(f=>[f,void 0])]}let r=!1,i=[],d={};for(let f in e){let p=e[f];if(!(f in t)){r=!0;let u=P(p);u&&i.push(...u.map(g=>[g,void 0]))}let c=t[f],[s,a]=K(p,c,o);a&&i.push(...a),s!==y&&(r=!0,d[f]=s)}for(let f in t)f in d||(r=!0,d[f]=b(t[f]));return[r?d:y,i]}function me(e,t,o){if(!Array.isArray(t)){var n;return[b(t),(n=P(e))===null||n===void 0?void 0:n.map(s=>[s,void 0])]}let r=!1,i=[],d=t.length,f=e.length,p=Math.max(f,d),c=[];for(let s=0;s<p;s++){let a=e[s],u=t[s];if(s<d){if(s>=f){r=!0,c[s]=b(u);continue}let[g,O]=K(a,u,o);if(O&&i.push(...O),g===y){c[s]=a;continue}r=!0,c[s]=g}else{r=!0;let g=P(a);g&&i.push(...g.map(O=>[O,void 0]))}}return[r?c:y,i]}function ee(){return(t,o)=>{var n;function r(...i){return _(this,null,function*(){if(i.length===1)return o(...i);let[{channel:d,components:f},p]=i,c=H(d,{components:f,strict:!0}),s=o(c,p);return typeof s=="object"&&s!=null&&"then"in s&&(s=yield s),c.mount(),s})}return(n=globalThis.shopify)===null||n===void 0||n.extend(t,r),r}}var U=ee();var We=U("purchase.address-autocomplete.suggest",o=>_(void 0,[o],function*({signal:e,target:t}){let{field:n,value:r,selectedCountryCode:i}=t,d=yield ue(n,r,i,e),{result:f}=yield d.json();return console.log("result:",f),{suggestions:f.suggestions.map(c=>({id:c.global_address_key,label:c.text,matchedSubstrings:c.matched,formattedAddress:c.formattedAddress})).slice(0,5)}}));function ue(e,t,o,n){return _(this,null,function*(){return fetch("https://shopify.github.io/address-autocomplete/address-autocomplete.json",{signal:n})})}})();
